<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PBIR Visual Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-layout">
    <div class="app-container">
        <header class="app-header">
            <div class="header-left">
                <img src="Power-BI.png" alt="Power BI" class="logo-icon">
                <span class="logo-text">pbir</span>
            </div>
            <div class="header-center">
                <h1>PBIR Visual Manager</h1>
                <p class="subtitle">Manage visual properties in Power BI PBIR reports</p>
            </div>
            <div class="header-right">
                <button id="manual-btn" class="manual-btn" title="Documentation">
                    <img src="manual.png" alt="Manual" class="manual-icon">
                </button>
            </div>
        </header>

        <div id="browser-warning" class="warning hidden">
            This application requires Chrome, Edge, or Opera browser with File System Access API support.
        </div>

        <section class="folder-section">
            <button id="select-folder-btn" class="btn btn-primary">Select Folder</button>
            <span id="folder-path" class="folder-path">No folder selected</span>
            <p class="folder-help">Select the root folder of your PBIR report (the folder containing 'pages' or 'definition' subdirectories)</p>
        </section>

        <!-- Tab Navigation -->
        <div id="tab-navigation" class="tab-navigation hidden">
            <button class="tab-btn active" data-tab="filter-visibility">Filter Visibility</button>
            <button class="tab-btn" data-tab="layer-order">Layer Order</button>
            <button class="tab-btn" data-tab="batch-processing">Batch Processing</button>
        </div>

        <!-- Filter Visibility Tab -->
        <div id="tab-filter-visibility" class="tab-content active">
            <section id="filter-summary-section" class="summary-section hidden">
                <div class="summary-item">
                    <span class="summary-value" id="total-visuals">0</span>
                    <span class="summary-label">Visuals</span>
                </div>
                <div class="summary-item">
                    <span class="summary-value" id="total-filters">0</span>
                    <span class="summary-label">Filters</span>
                </div>
                <div class="summary-item">
                    <span class="summary-value" id="hidden-filters">0</span>
                    <span class="summary-label">Hidden</span>
                </div>
                <div class="summary-item">
                    <span class="summary-value" id="visible-filters">0</span>
                    <span class="summary-label">Visible</span>
                </div>
                <div class="summary-item">
                    <span class="summary-value" id="default-filters">0</span>
                    <span class="summary-label">Default</span>
                </div>
            </section>

            <!-- Status Legend for Filter Visibility -->
            <section id="filter-legend-section" class="legend-section hidden">
                <details class="legend-details">
                    <summary>Status Legend</summary>
                    <div class="legend-grid">
                        <span class="status-badge status-hidden">Hidden</span><span>Filter hidden from viewers</span>
                        <span class="status-badge status-visible">Visible</span><span>Filter visible to viewers</span>
                        <span class="status-badge status-default">Default</span><span>Using Power BI default</span>
                        <span class="status-badge status-mixed">Mixed</span><span>Filters have different settings</span>
                    </div>
                </details>
            </section>

            <!-- Filter Presets Section -->
            <section id="filter-presets-section" class="presets-section hidden">
                <div class="presets-header">
                    <span class="presets-title">Quick Actions</span>
                </div>
                <div class="presets-grid">
                    <button class="preset-btn" data-preset="hide-all-filters" title="Set all filters to hidden">
                        <span class="preset-icon">&#128065;&#65039;</span> Hide All
                    </button>
                    <button class="preset-btn" data-preset="show-all-filters" title="Set all filters to visible">
                        <span class="preset-icon">&#128064;</span> Show All
                    </button>
                    <button class="preset-btn" data-preset="reset-all-filters" title="Remove property from all filters">
                        <span class="preset-icon">&#8635;</span> Reset All
                    </button>
                </div>
                <div class="custom-presets-container">
                    <div id="filter-custom-presets" class="custom-presets-grid"></div>
                    <button id="filter-save-preset-btn" class="btn btn-secondary btn-sm" title="Save current selection as a preset">
                        + Save Preset
                    </button>
                </div>
            </section>

            <section id="filter-actions-section" class="actions-section hidden">
                <div class="actions-row">
                    <div class="selection-actions">
                        <button id="filter-select-all-btn" class="btn btn-secondary">Select All</button>
                        <button id="filter-select-none-btn" class="btn btn-secondary">Select None</button>
                    </div>
                    <div class="bulk-actions">
                        <button id="set-true-btn" class="btn btn-action" disabled title="Hide filters from report viewers (select visuals first)">Set Hidden (true)</button>
                        <button id="set-false-btn" class="btn btn-action" disabled title="Show filters to report viewers (select visuals first)">Set Visible (false)</button>
                        <button id="filter-remove-prop-btn" class="btn btn-action" disabled title="Remove the property and use Power BI default (select visuals first)">Remove Property</button>
                    </div>
                    <p class="action-hint" id="filter-action-hint">Select one or more visuals to enable actions</p>
                    <div class="filter-actions">
                        <label for="filter-status-filter">Filter by status:</label>
                        <select id="filter-status-filter">
                            <option value="all">All</option>
                            <option value="hidden">Hidden (true)</option>
                            <option value="visible">Visible (false)</option>
                            <option value="default">Default (not set)</option>
                            <option value="mixed">Mixed</option>
                            <option value="no-filters">No Filters</option>
                        </select>
                    </div>
                </div>
            </section>

            <section id="filter-table-section" class="table-section hidden">
                <table class="visuals-table">
                    <thead>
                        <tr>
                            <th class="col-checkbox"><input type="checkbox" id="filter-header-checkbox"></th>
                            <th class="col-expand"></th>
                            <th class="col-page">Page</th>
                            <th class="col-visual">Visual</th>
                            <th class="col-type">Type</th>
                            <th class="col-filters">Filters</th>
                            <th class="col-status">Status</th>
                        </tr>
                    </thead>
                    <tbody id="filter-visuals-tbody">
                    </tbody>
                </table>
            </section>

            <section id="filter-save-section" class="save-section hidden">
                <div class="save-row">
                    <button id="filter-save-btn" class="btn btn-primary" disabled>Save Changes</button>
                    <span id="filter-modified-status" class="modified-status">No changes</span>
                </div>
            </section>

            <section id="filter-history-section" class="history-section hidden">
                <div class="history-row">
                    <button id="filter-undo-btn" class="btn btn-secondary" disabled>Undo</button>
                    <button id="filter-undo-all-btn" class="btn btn-secondary" disabled>Undo All</button>
                    <button id="filter-export-csv-btn" class="btn btn-secondary">Export CSV</button>
                    <button id="filter-export-json-btn" class="btn btn-secondary">Export JSON</button>
                    <span id="filter-history-status" class="history-status">History: 0 changes</span>
                </div>
            </section>
        </div>

        <!-- Layer Order Tab -->
        <div id="tab-layer-order" class="tab-content hidden">
            <section id="layer-summary-section" class="summary-section hidden">
                <div class="summary-item">
                    <span class="summary-value" id="layer-total-visuals">0</span>
                    <span class="summary-label">Visuals</span>
                </div>
                <div class="summary-item">
                    <span class="summary-value" id="layer-enabled">0</span>
                    <span class="summary-label">Enabled</span>
                </div>
                <div class="summary-item">
                    <span class="summary-value" id="layer-disabled">0</span>
                    <span class="summary-label">Disabled</span>
                </div>
                <div class="summary-item">
                    <span class="summary-value" id="layer-not-set">0</span>
                    <span class="summary-label">Not Set</span>
                </div>
            </section>

            <!-- Status Legend for Layer Order -->
            <section id="layer-legend-section" class="legend-section hidden">
                <details class="legend-details">
                    <summary>Status Legend</summary>
                    <div class="legend-grid">
                        <span class="status-badge status-visible">Enabled</span><span>Visual stays in its layer position</span>
                        <span class="status-badge status-hidden">Disabled</span><span>Visual may move to front on click</span>
                        <span class="status-badge status-default">Not Set</span><span>Using Power BI default behavior</span>
                    </div>
                </details>
            </section>

            <!-- Layer Order Presets Section -->
            <section id="layer-presets-section" class="presets-section hidden">
                <div class="presets-header">
                    <span class="presets-title">Quick Actions</span>
                </div>
                <div class="presets-grid">
                    <button class="preset-btn" data-preset="lock-all-layers" title="Enable keepLayerOrder for all visuals">
                        <span class="preset-icon">&#128274;</span> Lock All
                    </button>
                    <button class="preset-btn" data-preset="unlock-all-layers" title="Disable keepLayerOrder for all visuals">
                        <span class="preset-icon">&#128275;</span> Unlock All
                    </button>
                    <button class="preset-btn" data-preset="reset-all-layers" title="Remove keepLayerOrder property from all visuals">
                        <span class="preset-icon">&#8635;</span> Reset All
                    </button>
                </div>
                <div class="custom-presets-container">
                    <div id="layer-custom-presets" class="custom-presets-grid"></div>
                    <button id="layer-save-preset-btn" class="btn btn-secondary btn-sm" title="Save current selection as a preset">
                        + Save Preset
                    </button>
                </div>
            </section>

            <section id="layer-actions-section" class="actions-section hidden">
                <div class="actions-row">
                    <div class="selection-actions">
                        <button id="layer-select-all-btn" class="btn btn-secondary">Select All</button>
                        <button id="layer-select-none-btn" class="btn btn-secondary">Select None</button>
                    </div>
                    <div class="bulk-actions">
                        <button id="layer-set-true-btn" class="btn btn-action" disabled title="Keep visuals in their defined layer order (select visuals first)">Set Enabled (true)</button>
                        <button id="layer-set-false-btn" class="btn btn-action" disabled title="Allow visuals to move to front on interaction (select visuals first)">Set Disabled (false)</button>
                        <button id="layer-remove-prop-btn" class="btn btn-action" disabled title="Remove the property and use Power BI default (select visuals first)">Remove Property</button>
                    </div>
                    <p class="action-hint" id="layer-action-hint">Select one or more visuals to enable actions</p>
                    <div class="filter-actions">
                        <label for="layer-status-filter">Filter by status:</label>
                        <select id="layer-status-filter">
                            <option value="all">All</option>
                            <option value="enabled">Enabled (true)</option>
                            <option value="disabled">Disabled (false)</option>
                            <option value="not-set">Not Set</option>
                        </select>
                    </div>
                </div>
            </section>

            <section id="layer-table-section" class="table-section hidden">
                <table class="visuals-table layer-table">
                    <thead>
                        <tr>
                            <th class="col-checkbox"><input type="checkbox" id="layer-header-checkbox"></th>
                            <th class="col-page">Page</th>
                            <th class="col-visual">Visual</th>
                            <th class="col-type">Type</th>
                            <th class="col-status" title="keepLayerOrder property - controls visual stacking behavior">Layer Behavior</th>
                        </tr>
                    </thead>
                    <tbody id="layer-visuals-tbody">
                    </tbody>
                </table>
            </section>

            <section id="layer-save-section" class="save-section hidden">
                <div class="save-row">
                    <button id="layer-save-btn" class="btn btn-primary" disabled>Save Changes</button>
                    <span id="layer-modified-status" class="modified-status">No changes</span>
                </div>
            </section>

            <section id="layer-history-section" class="history-section hidden">
                <div class="history-row">
                    <button id="layer-undo-btn" class="btn btn-secondary" disabled>Undo</button>
                    <button id="layer-undo-all-btn" class="btn btn-secondary" disabled>Undo All</button>
                    <button id="layer-export-csv-btn" class="btn btn-secondary">Export CSV</button>
                    <button id="layer-export-json-btn" class="btn btn-secondary">Export JSON</button>
                    <span id="layer-history-status" class="history-status">History: 0 changes</span>
                </div>
            </section>
        </div>

        <!-- Batch Processing Tab -->
        <div id="tab-batch-processing" class="tab-content hidden">
            <section id="batch-intro-section" class="batch-intro-section">
                <p class="batch-description">Process multiple PBIR report folders at once. Add reports to the queue, select settings, and apply changes to all reports.</p>
            </section>

            <section id="batch-queue-section" class="batch-queue-section">
                <div class="batch-queue-header">
                    <h3>Report Queue</h3>
                    <button id="batch-clear-queue-btn" class="btn btn-secondary btn-sm" disabled>Clear All</button>
                </div>
                <div id="batch-queue-list" class="batch-queue-list">
                    <div class="batch-queue-empty">No reports added. Click "Add Report" to start.</div>
                </div>
                <button id="batch-add-report-btn" class="btn btn-primary">+ Add Report Folder</button>
            </section>

            <section id="batch-settings-section" class="batch-settings-section">
                <h3>Batch Settings</h3>
                <div class="batch-settings-row">
                    <label for="batch-preset-select">Apply Preset:</label>
                    <select id="batch-preset-select">
                        <option value="">-- Select a preset --</option>
                        <optgroup label="Filter Visibility">
                            <option value="hide-all-filters">Hide All Filters</option>
                            <option value="show-all-filters">Show All Filters</option>
                            <option value="reset-all-filters">Reset All Filters</option>
                        </optgroup>
                        <optgroup label="Layer Order">
                            <option value="lock-all-layers">Lock All Layers</option>
                            <option value="unlock-all-layers">Unlock All Layers</option>
                            <option value="reset-all-layers">Reset All Layers</option>
                        </optgroup>
                    </select>
                </div>
                <div class="batch-manual-settings">
                    <p class="batch-manual-label">Or configure manually:</p>
                    <div class="batch-checkbox-row">
                        <input type="checkbox" id="batch-filter-enabled">
                        <label for="batch-filter-enabled">Set isHiddenInViewMode to:</label>
                        <select id="batch-filter-value" disabled>
                            <option value="true">Hidden (true)</option>
                            <option value="false">Visible (false)</option>
                            <option value="undefined">Remove property</option>
                        </select>
                    </div>
                    <div class="batch-checkbox-row">
                        <input type="checkbox" id="batch-layer-enabled">
                        <label for="batch-layer-enabled">Set keepLayerOrder to:</label>
                        <select id="batch-layer-value" disabled>
                            <option value="true">Enabled (true)</option>
                            <option value="false">Disabled (false)</option>
                            <option value="undefined">Remove property</option>
                        </select>
                    </div>
                </div>
            </section>

            <section id="batch-action-section" class="batch-action-section">
                <button id="batch-process-btn" class="btn btn-primary btn-large" disabled>Apply to All Reports</button>
                <span id="batch-status" class="batch-status"></span>
            </section>

            <section id="batch-progress-section" class="batch-progress-section hidden">
                <h3>Processing Progress</h3>
                <div class="batch-progress-bar">
                    <div id="batch-progress-fill" class="batch-progress-fill" style="width: 0%"></div>
                </div>
                <div id="batch-progress-text" class="batch-progress-text">0 / 0 reports processed</div>
                <div id="batch-results-list" class="batch-results-list"></div>
            </section>
        </div>

        <section id="empty-state" class="empty-state hidden">
            <h3>No visuals found</h3>
            <p>This usually means:</p>
            <ul>
                <li>You selected the wrong folder - try selecting the parent folder</li>
                <li>Your report has no filter or layer settings to manage</li>
                <li>The report is not in PBIR format (.pbip)</li>
            </ul>
            <p><strong>Tip:</strong> Look for a folder containing 'pages' or 'definition' subdirectories.</p>
        </section>
    </div>

    <!-- Sponsor Sidebar -->
    <aside class="sponsor-sidebar">
        <div class="sponsor-header">Sponsors</div>
        <div class="sponsor-placeholder">
            <div class="sponsor-empty">Your company here</div>
            <a href="https://www.linkedin.com/in/jihwankim1975/" target="_blank" class="btn btn-sponsor">Want to sponsor? Contact me</a>
        </div>
        <div class="sponsor-info">
            Interested in reaching Power BI professionals?
            <a href="https://www.linkedin.com/in/jihwankim1975/" target="_blank">Click here to contact.</a>
        </div>
    </aside>
    </div><!-- end main-layout -->

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-left">
            Built by <a href="https://www.linkedin.com/in/jihwankim1975/" target="_blank">Jihwan Kim</a>
            <span class="footer-separator">|</span>
            <span class="footer-title">Power BI Developer & Data Model Architect</span>
        </div>
        <div class="footer-center">
            <span>&copy; 2026</span>
            <span class="footer-separator">|</span>
            <a href="https://github.com/JonathanJihwanKim/isHiddenInViewMode/blob/main/LICENSE" target="_blank">MIT License</a>
            <span class="footer-separator">|</span>
            <a href="https://github.com/JonathanJihwanKim/isHiddenInViewMode" target="_blank">View on GitHub</a>
        </div>
        <div class="footer-right">
            <a href="https://www.linkedin.com/in/jihwankim1975/" target="_blank" class="linkedin-link">
                <svg class="linkedin-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
                Connect
            </a>
        </div>
    </footer>

    <div id="toast" class="toast hidden"></div>

    <!-- Save Preset Modal -->
    <div id="save-preset-modal" class="modal hidden">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h2>Save Preset</h2>
                <button id="close-preset-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="preset-name-input">Preset Name:</label>
                    <input type="text" id="preset-name-input" placeholder="Enter preset name" maxlength="30">
                </div>
                <div id="preset-config-summary" class="preset-config-summary"></div>
            </div>
            <div class="modal-footer">
                <button id="cancel-preset-btn" class="btn btn-secondary">Cancel</button>
                <button id="confirm-save-preset-btn" class="btn btn-primary">Save Preset</button>
            </div>
        </div>
    </div>

    <!-- Documentation Modal -->
    <div id="doc-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Documentation</h2>
                <button id="close-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <h3>What is PBIR Visual Manager?</h3>
                <p>This tool helps you manage visual properties in Power BI PBIR reports. It provides two main features:</p>
                <ul>
                    <li><strong>Filter Visibility</strong> - Control whether filters are hidden or visible in reading mode</li>
                    <li><strong>Layer Order</strong> - Control whether visuals maintain their z-order during interactions</li>
                </ul>

                <h3>Filter Visibility (isHiddenInViewMode)</h3>
                <p>The <code>isHiddenInViewMode</code> property determines if a filter pane is visible to report viewers. When set to <code>true</code>, the filter is hidden from users but still applies to the data.</p>
                <h4>Quick Actions</h4>
                <ul>
                    <li><strong>Hide All</strong> - Sets all filters to hidden (isHiddenInViewMode = true). Filters will still apply to data but won't be visible to report viewers.</li>
                    <li><strong>Show All</strong> - Sets all filters to visible (isHiddenInViewMode = false). Report viewers can see and interact with all filters.</li>
                    <li><strong>Reset All</strong> - Removes the isHiddenInViewMode property from all filters, restoring Power BI's default behavior.</li>
                    <li><strong>Save Preset</strong> - Saves your current filter visibility configuration as a reusable preset stored in your browser.</li>
                </ul>

                <h3>Layer Order (keepLayerOrder)</h3>
                <p>The <code>keepLayerOrder</code> property controls whether visuals maintain their defined z-order (stacking order) during user interactions. This is critical for reports with overlapping elements or layered designs.</p>
                <ul>
                    <li><strong>Enabled (true)</strong> - Visual maintains its layer position</li>
                    <li><strong>Disabled (false)</strong> - Visual may move to front on interaction</li>
                    <li><strong>Not Set</strong> - Uses Power BI default behavior</li>
                </ul>
                <h4>Quick Actions</h4>
                <ul>
                    <li><strong>Lock All</strong> - Sets keepLayerOrder = true for all visuals. Visuals maintain their defined z-order during user interactions.</li>
                    <li><strong>Unlock All</strong> - Sets keepLayerOrder = false for all visuals. Visuals may move to the front when clicked or interacted with.</li>
                    <li><strong>Reset All</strong> - Removes the keepLayerOrder property from all visuals, restoring Power BI's default behavior.</li>
                    <li><strong>Save Preset</strong> - Saves your current layer order configuration as a reusable preset stored in your browser.</li>
                </ul>

                <h3>Batch Processing</h3>
                <p>Process multiple PBIR reports at once with consistent settings:</p>
                <ol>
                    <li><strong>Add Reports</strong> - Click "Add Report Folder" to add PBIR reports to the queue. Each report shows its visual count.</li>
                    <li><strong>Choose Settings</strong> - Select a preset (e.g., Hide All Filters, Lock All Layers) or configure manual settings.</li>
                    <li><strong>Process All</strong> - Click "Apply to All Reports" to process the entire queue. Progress and results are shown in real-time.</li>
                </ol>
                <p><strong>Use Cases:</strong></p>
                <ul>
                    <li>Standardize filter visibility across multiple reports</li>
                    <li>Apply consistent layer order settings to a report portfolio</li>
                    <li>Quickly prepare multiple reports for deployment</li>
                </ul>

                <h3>Requirements</h3>
                <div class="requirement-box">
                    <strong>Important:</strong> Your Power BI report MUST be saved in <strong>PBIR format</strong> (Power BI Enhanced Report Format) to use this tool.
                </div>
                <p>To enable PBIR format:</p>
                <ol>
                    <li>Open Power BI Desktop</li>
                    <li>Go to <strong>File &gt; Options and settings &gt; Options</strong></li>
                    <li>Select <strong>Preview features</strong></li>
                    <li>Enable <strong>Power BI Project (.pbip) save option</strong></li>
                    <li>Save your report as a <strong>.pbip</strong> file</li>
                </ol>
                <p><strong>Browser requirement:</strong> Chrome, Edge, or Opera (requires File System Access API)</p>

                <h3>How to Use</h3>
                <div class="step-item">
                    <span class="step-number">1</span>
                    <div class="step-content">
                        <strong>Select Folder</strong><br>
                        Click the "Select Folder" button and navigate to your PBIR report folder. Select the folder containing <code>pages</code> or <code>definition</code> directories.
                    </div>
                </div>
                <div class="step-item">
                    <span class="step-number">2</span>
                    <div class="step-content">
                        <strong>Choose Tab</strong><br>
                        Select either "Filter Visibility" or "Layer Order" tab depending on which property you want to manage.
                    </div>
                </div>
                <div class="step-item">
                    <span class="step-number">3</span>
                    <div class="step-content">
                        <strong>Review &amp; Select Visuals</strong><br>
                        Use checkboxes to select the visuals you want to modify. Use "Select All" or "Select None" for bulk selection.
                    </div>
                </div>
                <div class="step-item">
                    <span class="step-number">4</span>
                    <div class="step-content">
                        <strong>Apply Changes</strong><br>
                        Click the action buttons to set properties. For Filter Visibility, expand rows to modify individual filters.
                    </div>
                </div>
                <div class="step-item">
                    <span class="step-number">5</span>
                    <div class="step-content">
                        <strong>Save Changes</strong><br>
                        Click "Save Changes" to write your modifications back to the visual.json files. Changes are permanent once saved.
                    </div>
                </div>

                <h3>Understanding Status</h3>
                <h4>Filter Visibility Status</h4>
                <div class="status-legend">
                    <div class="status-legend-item">
                        <span class="status-badge status-hidden">Hidden</span>
                        <span>isHiddenInViewMode = true</span>
                    </div>
                    <div class="status-legend-item">
                        <span class="status-badge status-visible">Visible</span>
                        <span>isHiddenInViewMode = false</span>
                    </div>
                    <div class="status-legend-item">
                        <span class="status-badge status-default">Default</span>
                        <span>Property not set</span>
                    </div>
                    <div class="status-legend-item">
                        <span class="status-badge status-mixed">Mixed</span>
                        <span>Filters have different settings</span>
                    </div>
                    <div class="status-legend-item">
                        <span class="status-badge status-no-filters">No Filters</span>
                        <span>Visual has no filters</span>
                    </div>
                </div>

                <h4>Layer Order Status</h4>
                <div class="status-legend">
                    <div class="status-legend-item">
                        <span class="status-badge status-visible">Enabled</span>
                        <span>keepLayerOrder = true</span>
                    </div>
                    <div class="status-legend-item">
                        <span class="status-badge status-hidden">Disabled</span>
                        <span>keepLayerOrder = false</span>
                    </div>
                    <div class="status-legend-item">
                        <span class="status-badge status-default">Not Set</span>
                        <span>Property not set</span>
                    </div>
                </div>

                <h3>Tips</h3>
                <div class="tip-box">
                    <ul>
                        <li><strong>Undo changes:</strong> Use "Undo" or "Undo All" to revert changes before saving</li>
                        <li><strong>Export reports:</strong> Use "Export CSV" or "Export JSON" to document your settings</li>
                        <li><strong>Filter by status:</strong> Use the dropdown to show only visuals with specific status</li>
                        <li><strong>Individual filter control:</strong> In Filter Visibility tab, expand a visual row to modify individual filters</li>
                        <li><strong>Independent tabs:</strong> Changes in one tab don't affect the other - you can work on both and save together</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
